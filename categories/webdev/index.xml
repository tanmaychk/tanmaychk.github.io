<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>WebDev on Tanmay Chakrabarty</title><link>https://tanmaychk.github.io/categories/webdev/</link><description>Recent content in WebDev on Tanmay Chakrabarty</description><generator>Source Themes academia (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>Copyright &amp;copy; {year}</copyright><lastBuildDate>Thu, 16 Jun 2022 18:30:00 +0000</lastBuildDate><atom:link href="https://tanmaychk.github.io/categories/webdev/index.xml" rel="self" type="application/rss+xml"/><item><title>How I created my Resume/Portfolio website using Hugo and GitHub pages?</title><link>https://tanmaychk.github.io/post/hugo/</link><pubDate>Thu, 16 Jun 2022 18:30:00 +0000</pubDate><guid>https://tanmaychk.github.io/post/hugo/</guid><description>&lt;p>Honestly, you might be coming across umpteenth article on this topic, but I had to jot down my experiments with static website setup. For the uninitiated, apart from being the name of a famous 2011 &lt;a href="https://en.wikipedia.org/wiki/Hugo_(film)">Martin Scorsese movie&lt;/a>, &lt;a href="https://gohugo.io/">Hugo&lt;/a> is also an extremely popular static website generator. Hugo uses data files, configuration, layout templates, static files, and content written in &lt;a href="https://en.wikipedia.org/wiki/Markdown" title="Markdown">Markdown&lt;/a> to render a static website, which means no database, blazing fast site speed and no danger of cross-site scripting and SQL injection attacks.&lt;/p>
&lt;h2 id="installation--prerequisites">Installation &amp;amp; Prerequisites&lt;/h2>
&lt;p>To start with I installed Hugo on my Windows 10 laptop (instructions here), I already had &lt;a href="https://git-scm.com/download/win">Git Bash&lt;/a> installed, but it’s easy to install it from here. You may also choose to use a Git GUI tool like &lt;a href="https://tortoisegit.org/">Tortoise Git&lt;/a>. Next, I created a new Git repository at my &lt;a href="https://github.com/">GitHub&lt;/a> account with the name &lt;em>[my-github-username].github.io&lt;/em> containing just a blank README.md file (note that its necessary to name the repo this way, in order to leverage the &lt;a href="https://pages.github.com/">GitHub pages&lt;/a> feature).&lt;/p>
&lt;p>While GitHub will create a “&lt;em>main&lt;/em>” code branch by default, at this time I also created an empty new branch and named it “&lt;em>gh-pages&lt;/em>” (following sections will talk about the significance of creating this other code branch).&lt;/p>
&lt;p>Next, we need to tell GitHub that our repository will use GitHub Pages. To do that, click the &amp;ldquo;Gear Icon &amp;gt; Settings&amp;rdquo; for the repo, and then click &amp;ldquo;&lt;em>Pages&lt;/em>&amp;rdquo; on the left menu. Then, under &amp;ldquo;&lt;em>Source&lt;/em>&amp;rdquo; on the right pane, select the &amp;ldquo;&lt;em>Branch&lt;/em>&amp;rdquo; as &amp;ldquo;&lt;em>gh-pages&lt;/em>&amp;rdquo;. This tells GitHub that the website would be rendered using the content in the &lt;em>gh-pages&lt;/em> branch (and not the &lt;em>main&lt;/em> branch). You might also configure a custom domain for the website, which is not something I did.&lt;/p>
&lt;p>All set? Let’s move on.&lt;/p>
&lt;h2 id="hugo-site-and-theme">Hugo Site and Theme&lt;/h2>
&lt;p>Every Hugo site has an associated theme to apply the site style and look. I decided to use the freely available &lt;a href="https://github.com/themefisher/academia-hugo">Academia Hugo&lt;/a> theme, and since I might need to make changes to the theme files I decided to &lt;a href="https://github.com/tanmaychk/academia-hugo">fork&lt;/a> their Git repo to my GitHub account.&lt;/p>
&lt;p>To begin building my site, I first clone my GitHub pages repo locally, as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>git clone https://github.com/tanmaychk/tanmaychk.github.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd tanmaychk.github.io
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>I will add the Hugo theme to my site as a Git submodule, this will help me pull-in the theme (which is a separate Git repo) changes easily. This is especially useful if you are using a theme from a Git repo we don&amp;rsquo;t own.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>git submodule add https://github.com/tanmaychk/academia-hugo.git themes/academia-hugo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The Academia Hugo theme thankfully comes with a core set of files needed to create a Hugo site from the theme in a folder &amp;ldquo;&lt;em>exampleSite&lt;/em>&amp;rdquo;, so I recursively copy this folder&amp;rsquo;s entire content to my Hugo site root, as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span> cp -r themes/academia-hugo/exampleSite/* .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now the basic structure of my website is ready, and I can immediately test it using the local Hugo server (yes, without even deploying my site yet), as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>hugo server -b http://localhost:1313
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The site will now be accessible at http://localhost:1313 (your port could vary, if you supplied it differently). The parameter &lt;em>-b&lt;/em> is to specify the &lt;em>baseURL&lt;/em> for the site because as of now I haven&amp;rsquo;t touched the Hugo &lt;em>config.toml&lt;/em> file, which contains all the website configurations. I could have also added the &lt;em>baseURL&lt;/em> to _config/&lt;em>default/config.toml&lt;/em> file directly, in lieu of specifying this parameter.&lt;/p>
&lt;p>Academia theme has in-built support to add details about Courses, Projects, Skills, and Blogs. I changed the content (text as well as images) according to my needs and kept checking it locally. Images were added under the &lt;em>static/img&lt;/em> folder. I also added my resume PDF under &lt;em>static/files&lt;/em> folder and added the link to the PDF via the _config/&lt;em>default/menus.toml&lt;/em> config file.&lt;/p>
&lt;h2 id="generating-the-website">Generating the website&lt;/h2>
&lt;p>Hugo can help generate the HTML and static files that we would deploy to our website (remember raw HTML are the crux if the static website thingy). You can deploy them using online CMS tools like Netlify and Forestry.io, after generating the public website through the following simple command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>hugo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>I see a new folder &lt;em>public&lt;/em> now in my Hugo site folder that contains all the generated HTML files and static assets which can be straightway deployed to any hosting platform.&lt;/p>
&lt;p>Since this article is about deploying the site to GitHub pages, I will now focus on that ask. At this point I can safely delete the complete &lt;em>public&lt;/em> folder.&lt;/p>
&lt;h2 id="deploying-to-github-pages">Deploying to GitHub pages&lt;/h2>
&lt;p>Before I start, a quick recall about the two code branches I created when setting up my repo, the default &amp;ldquo;&lt;em>main&lt;/em>&amp;rdquo; and a &amp;ldquo;&lt;em>gh-pages&lt;/em>&amp;rdquo; branch. I will now explain why I did that. While the &amp;ldquo;main&amp;rdquo; code branch will store all our core &amp;ldquo;source&amp;rdquo; files (that I created in above-said steps while creating my Hugo site), the &amp;ldquo;&lt;em>gh-pages&lt;/em>&amp;rdquo; will contain the content that the &lt;em>public&lt;/em> folder in the previous paragraph contained, i.e. the entire generated site. But I will cleverly hand over the job of creating this generated website to GitHub via Actions.&lt;/p>
&lt;p>GitHub Actions is a continuous integration and continuous delivery (CI/CD) platform that allows us to automate our build, test, and deployment pipeline.&lt;/p>
&lt;p>In my case I create a workflow that will&lt;/p>
&lt;ol>
&lt;li>get triggered on code check-in to the &amp;ldquo;&lt;em>main&lt;/em>&amp;rdquo; branch&lt;/li>
&lt;li>check-out our &amp;ldquo;&lt;em>main&lt;/em>&amp;rdquo; branch code, including the theme submodule&lt;/li>
&lt;li>perform a setup of Hugo (latest version)&lt;/li>
&lt;li>generate the static website in &amp;ldquo;&lt;em>public&lt;/em>&amp;rdquo; folder, using the &amp;ldquo;&lt;em>hugo&lt;/em>&amp;rdquo; command&lt;/li>
&lt;li>check-in the content of the &amp;ldquo;&lt;em>public&lt;/em>&amp;rdquo; folder to the &amp;ldquo;&lt;em>gh-pages&lt;/em>&amp;rdquo; branch of the repository&lt;/li>
&lt;/ol>
&lt;p>To create the workflow, click &amp;ldquo;Actions&amp;rdquo; link on the repository page, then click &amp;ldquo;New Workflow&amp;rdquo; and paste the YAML content provided below. Then save the workflow.&lt;/p>
&lt;p>&lt;img src="post/gh-actions.jpg" alt="GitHub Actions Workflow" title="GitHub Actions Workflow">&lt;/p>
&lt;p>Interesting to note that GitHub stores this workflow in the &amp;ldquo;main&amp;rdquo; branch under &lt;em>.github/workflows&lt;/em> folder. For more details on this Action please refer the documentation and code at &lt;a href="https://github.com/peaceiris/actions-gh-pages">https://github.com/peaceiris/actions-gh-pages&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">GitHub Pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">on&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">push&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">branches&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">main &lt;/span> &lt;span style="color:#75715e"># Set a branch name to trigger deployment&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">pull_request&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">jobs&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">deploy&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">runs-on&lt;/span>: &lt;span style="color:#ae81ff">ubuntu-20.04&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">permissions&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">contents&lt;/span>: &lt;span style="color:#ae81ff">write&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">concurrency&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">group&lt;/span>: &lt;span style="color:#ae81ff">${{ github.workflow }}-${{ github.ref }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">steps&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">actions/checkout@v3&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">submodules&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span> &lt;span style="color:#75715e"># Fetch Hugo themes (true OR recursive)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">fetch-depth&lt;/span>: &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#75715e"># Fetch all history for .GitInfo and .Lastmod&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Setup Hugo&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">peaceiris/actions-hugo@v2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hugo-version&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;latest&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">extended&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Build&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>: &lt;span style="color:#ae81ff">hugo --minify&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Deploy&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">peaceiris/actions-gh-pages@v3&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">if&lt;/span>: &lt;span style="color:#ae81ff">${{ github.ref == &amp;#39;refs/heads/main&amp;#39; }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">github_token&lt;/span>: &lt;span style="color:#ae81ff">${{ secrets.GITHUB_TOKEN }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">publish_branch&lt;/span>: &lt;span style="color:#ae81ff">gh-pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">keep_files&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">publish_dir&lt;/span>: &lt;span style="color:#ae81ff">./public&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now it&amp;rsquo;s time to check-in the code from our local laptop to the Github pages repo &amp;ldquo;&lt;em>tanmaychk.github.io&lt;/em>&amp;rdquo;. As soon as the code is pushed to GitHub, the &amp;ldquo;GitHub Pages&amp;rdquo; actions workflow gets triggered and in couple of minutes our website is published to the &lt;em>gh-pages&lt;/em> branch. Now the site can be viewed at &lt;a href="https://tanmaychk.github.io/">https://tanmaychk.github.io/&lt;/a>.&lt;/p></description></item></channel></rss>